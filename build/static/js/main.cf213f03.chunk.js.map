{"version":3,"sources":["components/unit/unit.module.css","components/addunit/addunit.module.css","components/editname/editname.module.css","components/race/race.module.css","components/showname/showname.module.css","components/multiracial/multiracial.module.css","app.module.css","redux/constants.js","redux/reducer/selectors.js","components/showname/showname.js","components/editname/editname.js","redux/actions.js","components/unit/unit.js","components/race/race.js","components/multiracial/multiracial.js","components/loader/loader.js","components/addunit/addunit.js","App.js","redux/reducer/units.js","redux/reducer/reducer.js","redux/store.js","redux/middleware/generateid.js","index.js"],"names":["module","exports","REQUEST","FAILURE","SUCCESS","LOAD_UNITS","ADD_UNIT","DELETE_UNIT","RENAME_UNIT","HOBBIT","HUMAN","DWORF","unitsLoadingSelector","state","units","loading","unitsLoadedSelector","loaded","unitsLoadingErrorSelector","error","hobbitSelector","entities","filter","item","race","elfSelector","dworfSelector","humanSelector","ShowName","name","id","deleteUnit","className","styles","wrapper","connect","dispatch","renameUnit","newName","type","payload","setEditNameFlag","useState","setNewName","newNameInput","placeholder","onChange","e","currentTarget","value","onClick","editNameFlag","imaga","btns","edit_btn","delete_btn","Race","addingUnit","setAddingUnit","btnWrapper","to","map","unit","hobbits","elfs","dworfs","humans","grid","Loader","addUnit","generateId","match","setName","params","btnsWrapper","addBtn","loadUnits","socket","WebSocket","onopen","send","cmd","onmessage","event","response","data","onclose","wasClean","console","log","code","reason","onerror","message","useEffect","main","path","exact","component","MultiRacial","AddUnit","initialState","combineReducers","action","produce","draft","key","JSON","parse","index","findIndex","buff","splice","newUnit","enchaser","applyMiddleware","thunk","store","next","rest","uuid","createStore","reducer","composeWithDevTools","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.cf213f03.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"unit_wrapper__3J0lS\",\"imaga\":\"unit_imaga__30Pv4\",\"btns\":\"unit_btns__1nAjB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"new_name\":\"addunit_new_name__xCiqI\",\"wrapper\":\"addunit_wrapper__tQojA\",\"btnsWrapper\":\"addunit_btnsWrapper__2pN-n\",\"newName\":\"addunit_newName__AKTQU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"editname_wrapper__WzLCz\",\"newNameInput\":\"editname_newNameInput__12_WD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"race_wrapper__3mmEV\",\"btnWrapper\":\"race_btnWrapper__2VBAK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"showname_wrapper__t9rNz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"grid\":\"multiracial_grid__Bj_EF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"app_main__3Ig1G\"};","export const REQUEST = '_REQUEST';\r\nexport const FAILURE = '_FAILURE';\r\nexport const SUCCESS = '_SUCCESS';\r\n\r\nexport const LOAD_UNITS = 'LOAD_UNITS';\r\nexport const ADD_UNIT = 'ADD_UNIT';\r\nexport const DELETE_UNIT = 'DELETE_UNIT';\r\nexport const RENAME_UNIT = 'RENAME_UNIT';\r\n\r\nexport const UNITS_URL = \"ws://testapi.marit.expert:3004\";\r\nexport const WS_API_GET = \"get_list\";\r\nexport const HOBBIT = \"Hobbit\";\r\nexport const HUMAN = \"Human\";\r\nexport const DWORF = \"Dworf\";\r\nexport const ELF = \"Elf\";\r\n","import {\r\n    HUMAN,\r\n    DWORF,\r\n    ELF,\r\n    HOBBIT\r\n} from '../constants'\r\n\r\nexport const unitsLoadingSelector = (state) => state.units.loading;\r\nexport const unitsLoadedSelector = (state) => state.units.loaded;\r\nexport const unitsLoadingErrorSelector = (state) => state.units.error;\r\n\r\nexport const hobbitSelector = (state) => state.units.entities.filter(item => item.race === HOBBIT);\r\nexport const elfSelector = (state) => state.units.entities.filter(item => item.race === ELF);\r\nexport const dworfSelector = (state) => state.units.entities.filter(item => item.race === DWORF);\r\nexport const humanSelector = (state) => state.units.entities.filter(item => item.race === HUMAN);\r\n\r\n\r\n\r\n","import React, { useState } from 'react';\r\nimport styles from './showname.module.css';\r\n\r\nconst ShowName = ({ name, id, deleteUnit }) => {\r\n    return (\r\n        <div className={styles.wrapper}>\r\n            Имя: {name}\r\n        </div>\r\n    );\r\n};\r\n\r\n  \r\nexport default ShowName;","import React, { useState } from 'react';\r\nimport styles from './editname.module.css';\r\nimport { renameUnit } from '../../redux/actions';\r\nimport { connect } from 'react-redux'\r\n\r\nconst EditName = ({ id, name, renameUnit, setEditNameFlag}) => {\r\n    const [newName, setNewName] = useState('');\r\n    return (\r\n        <div className={styles.wrapper}>\r\n             <label>\r\n                Имя:\r\n                <input \r\n                    className={styles.newNameInput}\r\n                    type=\"text\" \r\n                    name=\"name\" \r\n                    placeholder={name}\r\n                    onChange={(e) => setNewName(e.currentTarget.value)} \r\n                />\r\n            </label>\r\n            <button \r\n                onClick={(e) => {\r\n                    setEditNameFlag(false);\r\n                    return renameUnit({ newName, id })}\r\n            }>\r\n               Сохранить\r\n            </button>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        renameUnit: ({ newName, id }) => dispatch(renameUnit({ newName, id })),\r\n    }\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(EditName);","import {\r\n    LOAD_UNITS,\r\n    REQUEST,\r\n    FAILURE,\r\n    SUCCESS,\r\n    UNITS_URL,\r\n    DELETE_UNIT,\r\n    ADD_UNIT,\r\n    RENAME_UNIT,\r\n    WS_API_GET,\r\n} from './constants';\r\n\r\nexport const addUnit = ({ name, race }) => ({\r\n    type: ADD_UNIT,\r\n    generateId: 'id',\r\n    payload: {\r\n        name: name, \r\n        race: race,\r\n    }\r\n});\r\n\r\nexport const renameUnit = ({ newName, id }) => ({\r\n        type: RENAME_UNIT,\r\n        payload: {\r\n            name: newName, \r\n            id,\r\n        }\r\n});\r\n\r\nexport const deleteUnit = id => ({\r\n    type: DELETE_UNIT,\r\n    payload: id,\r\n});\r\n\r\nexport const loadUnits = () => (dispatch) => {\r\n    let socket = new WebSocket(UNITS_URL);\r\n\r\n    socket.onopen = function(e) {\r\n        socket.send({cmd: WS_API_GET});\r\n        dispatch({type: LOAD_UNITS + REQUEST})\r\n    };\r\n\r\n    socket.onmessage = function(event) {\r\n        const response = event.data;\r\n        dispatch({type: LOAD_UNITS + SUCCESS, payload: response});\r\n    };\r\n\r\n    socket.onclose = function(event) {\r\n        if (event.wasClean) {\r\n            console.log(`close: ${event.code} reason=${event.reason}`);\r\n        } else {\r\n            console.log('disconnection');\r\n        }\r\n    };\r\n\r\n    socket.onerror = function(error) {\r\n        console.log(`[error] ${error.message}`);\r\n        dispatch({type: LOAD_UNITS + FAILURE, payload: error});\r\n    };\r\n}","import React, { useState } from 'react';\r\nimport styles from './unit.module.css';\r\nimport ShowName from '../showname';\r\nimport EditName from '../editname';\r\nimport { connect } from 'react-redux';\r\nimport { deleteUnit } from '../../redux/actions';\r\n\r\nconst Unit = ({ name, id, deleteUnit }) => {\r\n    const [editNameFlag, setEditNameFlag] = useState(false)\r\n    return (\r\n        <div className={styles.wrapper}>\r\n            \r\n            <div className={styles.imaga}>\r\n            </div>\r\n            \r\n            { editNameFlag ? \r\n                <EditName id={id} name={name} setEditNameFlag={setEditNameFlag}/> : \r\n                <ShowName id={id} name={name}/>\r\n            }\r\n            \r\n            <div className={styles.btns}>\r\n                <button \r\n                    className={styles.edit_btn}\r\n                    onClick={(e) => setEditNameFlag(() => !editNameFlag)}\r\n                >\r\n                    Редактировать\r\n                </button>\r\n\r\n                <button \r\n                    className={styles.delete_btn}\r\n                    onClick={(e) => deleteUnit(id)}\r\n                >\r\n                    Удалить\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        deleteUnit: (id) => dispatch(deleteUnit({ id })),\r\n    }\r\n}\r\n  \r\nexport default connect(null, mapDispatchToProps)(Unit);\r\n\r\n","import React, { useState } from 'react';\r\nimport Unit from '../unit'\r\nimport { Link } from 'react-router-dom'\r\nimport styles from './race.module.css'\r\n\r\nconst Race = ({ units, race }) => {\r\n    const [addingUnit, setAddingUnit] = useState(false)\r\n    return (\r\n        <div className={styles.wrapper}>\r\n            race: {race}<br></br>\r\n            <div className={styles.btnWrapper}>\r\n                <Link to={`/${race}`} >\r\n                    <button onClick={(e) => setAddingUnit(() => !addingUnit)}>\r\n                        Добавить\r\n                    </button>\r\n                </Link>\r\n            </div>\r\n            \r\n            {units.map((unit) => <Unit key={unit.id} id={unit.id} name={unit.name}/>)}\r\n        </div>\r\n    );\r\n};\r\n  \r\nexport default Race;","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n    HUMAN,\r\n    DWORF,\r\n    ELF,\r\n    HOBBIT\r\n} from '../../redux/constants'\r\nimport { \r\n    hobbitSelector,\r\n    elfSelector,\r\n    dworfSelector,\r\n    humanSelector,\r\n} from '../../redux/reducer/selectors';\r\nimport Race from '../race';\r\nimport styles from './multiracial.module.css';\r\n\r\nconst MultiRacial = ({ hobbits, dworfs, humans, elfs }) => {\r\n    return (<>\r\n       <div className={styles.grid} >\r\n        <Race race={HOBBIT} units={hobbits} />\r\n        <Race race={HUMAN} units={humans} />                \r\n        <Race race={DWORF} units={dworfs} />                \r\n        <Race race={ELF} units={elfs} />                \r\n       </div>\r\n      </>\r\n    );\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        hobbits: hobbitSelector(state),\r\n        elfs: elfSelector(state),\r\n        dworfs: dworfSelector(state),\r\n        humans: humanSelector(state),\r\n    };\r\n}\r\n\r\nexport default connect(mapStateToProps)(MultiRacial);","import React from 'react';\n\nconst Loader = () => {\n  return <div>LOADING...</div>;\n};\n\nexport default Loader;\n","import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom'\r\nimport { connect } from 'react-redux';\r\nimport { addUnit } from '../../redux/actions';\r\nimport styles from './addunit.module.css';\r\n\r\nconst AddUnit = ({ addUnit, match }) => {\r\n    const [name, setName] = useState(false)\r\n    const race = match.params.race\r\n    return (\r\n        <div className={styles.wrapper}>\r\n            <label>\r\n                \r\n                <span>\r\n                    Name:\r\n                </span> <br></br>\r\n                <input \r\n                    className={styles.newName}\r\n                    type=\"text\" \r\n                    name=\"name\" \r\n                    onChange={(e) => setName(e.currentTarget.value)} \r\n                />\r\n            </label>\r\n            <div className={styles.btnsWrapper}>\r\n                <Link to='/'>\r\n                    <button>\r\n                        Назад\r\n                    </button>\r\n                </Link>\r\n\r\n                <Link to='/'>\r\n                    <button \r\n                        className={styles.addBtn}\r\n                        onClick={(e) => name && addUnit({ name, race })}\r\n                    >\r\n                        Сохранить\r\n                    </button>\r\n                </Link>\r\n            </div>\r\n            \r\n\r\n           \r\n        </div>\r\n    );\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addUnit: ({ name, race }) => dispatch(addUnit({ name, race })),\r\n    }\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(AddUnit);","import './App.css';\nimport React, { useEffect } from 'react';\nimport { loadUnits } from './redux/actions';\nimport { connect} from 'react-redux'\nimport MultiRacial from './components/multiracial';\nimport {\n  unitsLoadingSelector,\n  unitsLoadedSelector,\n  unitsLoadingErrorSelector,\n} from './redux/reducer/selectors'\n\nimport { Route } from 'react-router-dom';\nimport Loader from './components/loader';\nimport AddUnit from './components/addunit'\nimport styles from './app.module.css';\n\nfunction App({\n  loadUnits, \n  loading, \n  loaded, \n  error\n}) {\n  useEffect(() => {\n    if (!loaded) loadUnits();\n  }, []) //eslint-disable-line\n  if (loading || !loaded) return <Loader />;\n\n  return (\n    <div className={styles.main}>\n      <Route path=\"/\" exact component={MultiRacial}></Route>\n      <Route path=\"/:race\" exact component={AddUnit}></Route>\n    </div>\n  );\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    loading: unitsLoadingSelector(state),\n    loaded: unitsLoadedSelector(state),\n    error: unitsLoadingErrorSelector(state),\n  };\n};\n\nexport default connect(mapStateToProps, { loadUnits })(App);\n","import produce from 'immer';\r\nimport { \r\n  LOAD_UNITS, \r\n  SUCCESS, \r\n  REQUEST, \r\n  FAILURE, \r\n  ADD_UNIT,\r\n  DELETE_UNIT,\r\n  RENAME_UNIT\r\n} from '../constants';\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  error: null,\r\n  loaded: false,\r\n  entities: {},\r\n};\r\n\r\nexport const units = (state = initialState, action) =>\r\n  produce(state, (draft) => {\r\n    const { type, error, key, payload } = action;\r\n\r\n    switch (type) {\r\n      case LOAD_UNITS + REQUEST: {\r\n        draft.loading = true;\r\n        draft.loaded = false;\r\n        draft.error = null;\r\n        break;\r\n      }\r\n\r\n      case LOAD_UNITS + FAILURE: {\r\n        draft.loading = false;\r\n        draft.loaded = false;\r\n        draft.error = error;\r\n        break;\r\n      }\r\n\r\n      case LOAD_UNITS + SUCCESS: {\r\n        draft.loading = false;\r\n        draft.loaded = true;\r\n        draft.error = null;\r\n        draft.entities = JSON.parse(payload);\r\n        break;\r\n      }\r\n\r\n      case DELETE_UNIT: {\r\n        const index = state.entities.findIndex(item => payload.id ===item.id )\r\n        const buff = [...state.entities];\r\n        buff.splice(index, 1)\r\n        draft.entities = buff;\r\n        break;\r\n      }\r\n\r\n      case RENAME_UNIT: {\r\n        const index = state.entities.findIndex(item => payload.id ===item.id )\r\n        draft.entities[index].name = payload.name;\r\n        break;\r\n      }\r\n      \r\n\r\n      case ADD_UNIT: {\r\n          const newUnit = {\r\n              id: key,\r\n              name: payload.name,\r\n              race: payload.race\r\n          };\r\n          return {\r\n              ...state,\r\n              entities: [\r\n                ...state.entities,\r\n                newUnit\r\n              ]\r\n            }\r\n      }\r\n\r\n      default:\r\n        return state;\r\n    }\r\n  });","import { combineReducers } from 'redux';\r\nimport { units } from './units';\r\n\r\n\r\nexport default combineReducers({\r\n    units: units,\r\n});\r\n","import { applyMiddleware, createStore } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport generateId from '../redux/middleware/generateid';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport reducer from './reducer/reducer';\r\n\r\nconst enchaser = applyMiddleware(\r\n    thunk,\r\n    generateId,\r\n  );\r\n\r\nexport default createStore(reducer, composeWithDevTools(enchaser));\r\n","import { v4 as uuid } from 'uuid';\r\n\r\nexport default (store) => (next) => (action) => {\r\n  if (!action.generateId) return next(action);\r\n  const { generateId, ...rest } = action;\r\n    return next({ ...rest, ['key']: uuid() });\r\n};\r\n\r\n\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport store from '../src/redux/store';\n\nimport { Provider } from 'react-redux';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <BrowserRouter>\n        <App />\n      </BrowserRouter>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}